function custom_post_commit() {
  echo "Starting update of glslang sub-packages to $pkgver."
  export run_sub_package=1

  export commit_body="\n\nSupports build of glslang ${pkgver}"
  # uses commit_headers and commit_tools that are set in custom_commit_body
  ${progname} spirv-headers ${commit_headers}
  ${progname} spirv-tools ${commit_tools}
}

function custom_commit_body() {
  known_good=$(curl -sL https://raw.githubusercontent.com/KhronosGroup/glslang/${pkgver}/known_good.json)
  commit_headers=$(echo "${known_good}" | jq -r '.commits[]|select(.subrepo=="KhronosGroup/SPIRV-Headers")|.commit')
  commit_tools=$(echo "${known_good}" | jq -r '.commits[]|select(.subrepo=="KhronosGroup/SPIRV-Tools")|.commit')

  commit_body="\n\nRelease notes: https://github.com/KhronosGroup/glslang/releases"
  commit_body+="\n\nSupported by:"
  commit_body+="\n- spirv-tools: ${commit_tools}"
  commit_body+="\n- spirv-headers: ${commit_headers}"
}
